"use strict";(self.webpackChunkdocument_sample=self.webpackChunkdocument_sample||[]).push([[6912],{5640:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var t=i(4848),s=i(8453);const r={id:"eots-manager",title:"EOTS Manager",sidebar_label:"EOTS Manager"},a=void 0,o={id:"user-guides/btc-staking-testnet/finality-providers/eots-manager",title:"EOTS Manager",description:"1. Overview",source:"@site/docs/user-guides/btc-staking-testnet/finality-providers/eots-manager.md",sourceDirName:"user-guides/btc-staking-testnet/finality-providers",slug:"/user-guides/btc-staking-testnet/finality-providers/eots-manager",permalink:"/docs/user-guides/btc-staking-testnet/finality-providers/eots-manager",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/user-guides/btc-staking-testnet/finality-providers/eots-manager.md",tags:[],version:"current",frontMatter:{id:"eots-manager",title:"EOTS Manager",sidebar_label:"EOTS Manager"},sidebar:"docs",previous:{title:"Become a Finality Provider",permalink:"/docs/user-guides/btc-staking-testnet/finality-providers/overview"},next:{title:"Finality Provider",permalink:"/docs/user-guides/btc-staking-testnet/finality-providers/finality-provider"}},d={},l=[{value:"1. Overview",id:"1-overview",level:2},{value:"2. Configuration",id:"2-configuration",level:2},{value:"3. Starting the EOTS Daemon",id:"3-starting-the-eots-daemon",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"1-overview",children:"1. Overview"}),"\n",(0,t.jsx)(n.p,{children:"The EOTS daemon is responsible for managing EOTS keys, producing EOTS randomness, and\nusing them to produce EOTS signatures."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note:"})," EOTS stands for Extractable One Time Signature. You can read more about it\nin\nthe ",(0,t.jsx)(n.a,{href:"https://docs.babylonlabs.io/assets/files/btc_staking_litepaper-32bfea0c243773f0bfac63e148387aef.pdf",children:"Babylon BTC Staking Litepaper"}),".\nIn short, the EOTS manager produces EOTS public/private randomness pairs. The\nfinality provider commits the public part of this pairs to Babylon for every future\nblock height that they intend to provide a finality signature for. If the finality\nprovider votes for two different blocks on the same height, they will have to reuse\nthe same private randomness which will lead to their underlying private key being\nexposed, leading to the slashing of them and all their delegators."]}),"\n",(0,t.jsx)(n.p,{children:"The EOTS manager is responsible for the following operations:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"EOTS Key Management:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Generates ",(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Schnorr_signature",children:"Schnorr"})," key pairs\nfor a given finality provider using the\n",(0,t.jsx)(n.a,{href:"https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki",children:"BIP-340"}),"\nstandard."]}),"\n",(0,t.jsx)(n.li,{children:"Persists generated key pairs in the internal Cosmos keyring."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Randomness Generation:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Generates lists of EOTS randomness pairs based on the EOTS key, chainID, and\nblock height."}),"\n",(0,t.jsx)(n.li,{children:"The randomness is deterministically generated and tied to specific parameters."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Signature Generation:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Signs EOTS using the private key of the finality provider and the corresponding\nsecret randomness for a given chain at a specified height."}),"\n",(0,t.jsx)(n.li,{children:"Signs Schnorr signatures using the private key of the finality provider."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The EOTS manager functions as a daemon controlled by the ",(0,t.jsx)(n.code,{children:"eotsd"})," tool."]}),"\n",(0,t.jsx)(n.h2,{id:"2-configuration",children:"2. Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"eotsd init"})," command initializes a home directory for the EOTS manager. This\ndirectory is created in the default home location or in a location specified by\nthe ",(0,t.jsx)(n.code,{children:"--home"})," flag."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"eotsd init --home /path/to/eotsd/home/\n"})}),"\n",(0,t.jsx)(n.p,{children:"After initialization, the home directory will have the following structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ls /path/to/eotsd/home/\n  \u251c\u2500\u2500 eotsd.conf # Eotsd-specific configuration file.\n  \u251c\u2500\u2500 logs       # Eotsd logs\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If the ",(0,t.jsx)(n.code,{children:"--home"})," flag is not specified, then the default home location will be used.\nFor different operating systems, those are:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"MacOS"})," ",(0,t.jsx)(n.code,{children:"~/Users/<username>/Library/Application Support/Eotsd"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Linux"})," ",(0,t.jsx)(n.code,{children:"~/.Eotsd"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Windows"})," ",(0,t.jsx)(n.code,{children:"C:\\Users\\<username>\\AppData\\Local\\Eotsd"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"3-starting-the-eots-daemon",children:"3. Starting the EOTS Daemon"}),"\n",(0,t.jsx)(n.p,{children:"You can start the EOTS daemon using the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"eotsd start --home /path/to/eotsd/home\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If the ",(0,t.jsx)(n.code,{children:"--home"})," flag is not specified, then the default home location will be used."]}),"\n",(0,t.jsxs)(n.p,{children:["This will start the EOTS rpc server at the address specified in ",(0,t.jsx)(n.code,{children:"eotsd.conf"})," under\nthe ",(0,t.jsx)(n.code,{children:"RpcListener"})," field, which is by default set to ",(0,t.jsx)(n.code,{children:"127.0.0.1:12582"}),". You can change\nthis value in the configuration file or override this value and specify a custom\naddress using the ",(0,t.jsx)(n.code,{children:"--rpc-listener"})," flag."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'eotsd start\n\n2024-02-08T17:59:11.467212Z\tinfo\tRPC server listening\t{"address": "127.0.0.1:12582"}\n2024-02-08T17:59:11.467660Z\tinfo\tEOTS Manager Daemon is fully active!\n'})}),"\n",(0,t.jsxs)(n.p,{children:["All the available cli options can be viewed using the ",(0,t.jsx)(n.code,{children:"--help"})," flag. These options\ncan also be set in the configuration file."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note"}),": It is recommended to run the ",(0,t.jsx)(n.code,{children:"eotsd"})," daemon on a separate machine or\nnetwork segment to enhance security. This helps isolate the key management\nfunctionality and reduces the potential attack surface. You can edit the\n",(0,t.jsx)(n.code,{children:"EOTSManagerAddress"})," in the configuration file of the finality provider to reference\nthe address of the machine where ",(0,t.jsx)(n.code,{children:"eotsd"})," is running."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var t=i(6540);const s={},r=t.createContext(s);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);